(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[139],{8801:function(e,a,t){Promise.resolve().then(t.bind(t,3634))},3634:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return o}});var r=t(7437),n=t(2265),c=t(6410),s=t(5462),i=t.n(s);function o(){let[e,a]=(0,n.useState)([]),[t,s]=(0,n.useState)(!0),[o,l]=(0,n.useState)("all");(0,n.useEffect)(()=>{(async()=>{a(await (0,c.NQ)()),s(!1)})()},[]);let u="all"===o?e:e.filter(e=>e.category===o);return(0,r.jsxs)("main",{className:i().container,children:[(0,r.jsxs)("div",{className:i().header,children:[(0,r.jsx)("h1",{children:"Galerie Photos"}),(0,r.jsx)("p",{children:"D\xe9couvrez notre restaurant et nos \xe9v\xe9nements en images"})]}),(0,r.jsxs)("div",{className:i().tabs,children:[(0,r.jsx)("button",{className:"".concat(i().tab," ").concat("all"===o?i().activeTab:""),onClick:()=>l("all"),children:"Tout voir"}),(0,r.jsx)("button",{className:"".concat(i().tab," ").concat("restaurant"===o?i().activeTab:""),onClick:()=>l("restaurant"),children:"\uD83C\uDF7Dï¸ Restaurant"}),(0,r.jsx)("button",{className:"".concat(i().tab," ").concat("events"===o?i().activeTab:""),onClick:()=>l("events"),children:"\uD83C\uDF89 \xc9v\xe9nements"})]}),t?(0,r.jsx)("div",{className:i().loading,children:"Chargement des photos..."}):(0,r.jsx)("div",{className:i().grid,children:u.length>0?u.map(e=>(0,r.jsx)("div",{className:i().imageCard,children:(0,r.jsx)("div",{className:i().imageWrapper,children:(0,r.jsx)("img",{src:e.url,alt:"Restaurant Trapeneck",loading:"lazy"})})},e.id)):(0,r.jsx)("div",{className:i().emptyState,children:"Aucune photo pour le moment."})})]})}},6410:function(e,a,t){"use strict";t.d(a,{NA:function(){return l},NQ:function(){return g},Ve:function(){return u},vU:function(){return o},vX:function(){return _}});var r=t(738),n=t(5978);let c=(0,r.ZF)({apiKey:"AIzaSyBEb-VBRW3ymcVl9oLjOAxAuk1L2jNC7jU",authDomain:"pepperoni-651c6.firebaseapp.com",projectId:"pepperoni-651c6",storageBucket:"pepperoni-651c6.firebasestorage.app",messagingSenderId:"1068626836984",appId:"1:1068626836984:web:52e0abbd1829f999426a0d",measurementId:"G-9RDWZNMVN3"}),s=(0,n.ad)(c),i="trapeneck_menu_url";async function o(e){try{localStorage.setItem(i,JSON.stringify({imageUrl:e,updatedAt:new Date().toISOString()}))}catch(e){console.warn("localStorage non disponible")}try{return await (0,n.pl)((0,n.JU)(s,"settings","trapeneck_menu"),{imageUrl:e,updatedAt:new Date().toISOString()}),{success:!0}}catch(e){return console.error("Erreur Firebase:",e),{success:!1,error:e.message||"Erreur Firebase"}}}async function l(){try{let e=await (0,n.QT)((0,n.JU)(s,"settings","trapeneck_menu"));if(e.exists())return e.data().imageUrl}catch(e){console.warn("Firebase non disponible, utilisation du localStorage")}try{{let e=localStorage.getItem(i);if(e)return JSON.parse(e).imageUrl}}catch(e){console.warn("localStorage non disponible")}return null}async function u(e,a){try{let t=(0,n.JU)((0,n.hJ)(s,"trapeneck_gallery"));return await (0,n.pl)(t,{url:e,category:a,createdAt:new Date().toISOString()}),{success:!0}}catch(e){return console.error("Erreur ajout galerie:",e),{success:!1,error:e.message||"Erreur inconnue"}}}async function g(){try{let e=(0,n.IO)((0,n.hJ)(s,"trapeneck_gallery"),(0,n.Xo)("createdAt","desc"));return(await (0,n.PL)(e)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error("Erreur lecture galerie:",e),[]}}async function _(e){try{return await (0,n.oe)((0,n.JU)(s,"trapeneck_gallery",e)),{success:!0}}catch(e){return console.error("Erreur suppression galerie:",e),{success:!1,error:e.message||"Erreur inconnue"}}}},5462:function(e){e.exports={container:"page_container__L12Rg",header:"page_header__OJwtu",title:"page_title__UqWtZ",subtitle:"page_subtitle__25dO9",tabs:"page_tabs__043zQ",tab:"page_tab__rK09k",activeTab:"page_activeTab__4_Nnj",grid:"page_grid__eBMcx",card:"page_card__vT_4l",image:"page_image__aVjrs",overlay:"page_overlay__ahItA",imageTitle:"page_imageTitle__u44DV",imageDesc:"page_imageDesc__pp_fI",lightbox:"page_lightbox__2l_fx",fadeIn:"page_fadeIn__mhHEk",lightboxImage:"page_lightboxImage__1CBBT",zoomIn:"page_zoomIn___ifu6",closeButton:"page_closeButton__FEzPj"}}},function(e){e.O(0,[116,609,448,971,117,744],function(){return e(e.s=8801)}),_N_E=e.O()}]);